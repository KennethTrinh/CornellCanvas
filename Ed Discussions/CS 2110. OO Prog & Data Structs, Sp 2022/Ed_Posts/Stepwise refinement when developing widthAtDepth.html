<h1>
 Title: Stepwise refinement when developing widthAtDepth
</h1>
<h3>
 Author: David Gries (admin)
</h3>
<h3>
 Date: 2022-03-01T03:47:02.846521+11:00
</h3>
<h3>
 Category: Assignments
</h3>
<h3>
 Vote Count: 8
</h3>
<heading level="1">
 <b>
  INTRODUCTION
 </b>
</heading>
<p>
 People who have trouble with widthAtDepth are probably thinking too much about how recursion works and not about how we said to understand recursive functions or develop them.
</p>
<p>
 Secondly, too many people are not using what we call
 <i>
  stepwise refinement
 </i>
 in developing these A5 methods. Were you taught stepwise refinement in your first programming class? It's a pity if you were not. It is a fairly obvious methodology, which was first explained in a paper by Niklaus Wirth in about 1972 and Edsger Dijkstra 3 years before that. Everyone sort of uses it, but being more aware of what one is doing and using it consciously can be a big help.
</p>
<p>
 We have three videos on stepwise refinement in JavaHyperText —look in the top horizontal navigation bars.
</p>
<p>
 We have two videos on recursion on trees in JavaHyperText. If you have not watched them, stop what you are doing and watch them!
</p>
<p>
 Here, also, we try to get these ideas across to you using two examples and then discussing widthAtDepth. You should use the ideas expressed below in developing ALL your recursive methods. Please read slowly and carefully.
 <break>
 </break>
 <break>
 </break>
 <b>
  AN EXAMPLE OF STEPWISE REFINEMENT
 </b>
 <break>
 </break>
 <break>
 </break>
 Suppose I ask you to write this method.
</p>
<pre>
   /** Print the names of the children of t. */
   public void printChildren(CovidTree t) { ... }
  </pre>
<p>
 I do this in stepwise fashion by writing the method body like this:
</p>
<pre>

     for (CovidTree child : t.children) {
         Print the name of child
     }
</pre>
<p>
 <break>
 </break>
 I concentrated on getting the loop right, and to be able to focus on that, I wrote the loop body in English. Now, I see how to implement the loop body. I end up with this:
</p>
<pre>
    for (CovidTree child : t.children) {
        // Print the name of child
        System.out.println(child.root.name());
     }
</pre>
<p>
 <break>
 </break>
 I cannot emphasize this method of stepwise refinement too much, of doing one thing
 <break>
 </break>
 at a time, writing all but what one is concentrating on in English. We may not need it
 <break>
 </break>
 in this simple example, but in many cases, being methodical and careful like this will
 <break>
 </break>
 lead you to a correct solution, and with much less trouble than simply hacking around.
</p>
<p>
 <b>
  A SECOND EXAMPLE OF STEPWISE REFINEMENT
 </b>
 <break>
 </break>
 <break>
 </break>
 Now consider writing the method below, assuming that we can't use children.size.
</p>
<pre>
     /** Print the number of children of t. */
     public void printNumberOfChildren(CovidTree t)
</pre>
<p>
 <break>
 </break>
 Since we can't use children.size, we have to write a loop to count the number of children.
 <break>
 </break>
 So we write the following. Look! The loop body is in English. Get used to writing what the
 <break>
 </break>
 loop body is supposed to do in English! At least until you have more experience programming and things go easier.
</p>
<p>
 I did one more step; I put in the line to print after the loop ended.
</p>
<pre>     int sum= 0; 
     //invariant: sum contains the number of iterations executed so far.
     for (CovidTree child : t.children) { 
        // Add 1 to sum 
     } 
     System.out.println(sum); 
 
</pre>
<p>
 Now we have to implement the loop body --put in
</p>
<pre>      sum= sum + 1; 
</pre>
<heading level="2">
 NOW ABOUT WIDTH AT DEPTH
</heading>
<p>
 Now consider writing this method.
</p>
<pre>     /** Return the width of this tree at depth d */
     public int widthAtDepth(int d)
</pre>
<p>
 There is a hint in the body:
</p>
<p>
 // If d &gt; 0, the answer is: sum of widths of the children at depth d-1.
 <break>
 </break>
 <break>
 </break>
 <b>
  Read the line above carefully!
 </b>
 <break>
 </break>
 It gives you a recursive definition of width of the tree at depth d.
 <break>
 </break>
 All you have to do is translate that definition into Java!
 <break>
 </break>
 All you have to do is translate that definition into Java!
 <break>
 </break>
 <break>
 </break>
 Once more, for emphasis: All you have to do is translate that definition into Java!
 <break>
 </break>
 <break>
 </break>
 Now, use stepwise refinement to implement the recursive case, just as
 <break>
 </break>
 we did in the two above examples. Write the loop body in English. Pay attention
 <break>
 </break>
 to the similarity of this example with the second example above.
 <break>
 </break>
 <break>
 </break>
 After you do that, you have to implement the loop body. Here is where recursion
 <break>
 </break>
 comes in. Do NOT think about how recursion works. That will only confuse you.
 <break>
 </break>
 Instead: Compare what has to be done —your English in the loop body-—
 <break>
 </break>
 with the specification of function widthAtDepth and write a recursive call.
 <break>
 </break>
 <break>
 </break>
 It would be nice to get feedback in follow-up to see whether this helped.
</p>
<div style="text-indent: 2em;">
 <h3>
  Author: Liwei Jiang (student)
 </h3>
 <h3>
  Vote Count: 5
 </h3>
 <p>
  I understood the hint after reading it loud 5 times.
 </p>
 <h3>
  ------------------------------------
 </h3>
 <div style="text-indent: 4em;">
  <h3>
   Author: Ashley Miller (student)
  </h3>
  <h3>
   Vote Count: 0
  </h3>
  <p>
   Just did that and got it after being stuck on it for so long lol
  </p>
  <h3>
   ------------------------------------
  </h3>
 </div>
</div>
<h3>
 ----------- REPLIES -----------
</h3>